<app-bread-crumb [items]="[{text: 'Relatório de Receitas e Despesas'}]"></app-bread-crumb>

<app-page-header page-title="Relatório de Receitas e Despesas" [show-button]="false" [subtitle]="pageSubtitle"></app-page-header>

<div class="my-3 p-3 bg-body rounded shadow-sm">
    <div class="card mt-3 rounded-3 shadow-sm">
        <div class="card-header py-3 mb-3">
            <h4 class="my-0 fw-normal">Selecione o Mês e Ano para gerar os relatórios</h4>
        </div>
        <div class="card-body">
            <div class="row m-2">
                <div class="form-group col-md-7">
                    <label for="month">Mês</label>
                    <select #month name="month" id="month" class="form-control">
                        <option value="">Selecione um mês</option>
                        <option *ngFor="let month of months" [value]="month.value">{{month.label}}</option>
                    </select>
                </div>
                <div class="form-group col-md-5">
                    <label for="year">Ano</label>
                    <select #year name="year" id="year" class="form-control">
                        <option value="">Selecione um ano</option>
                        <option *ngFor="let year of years" [value]="year">{{year}}</option>
                    </select>
                </div>
                <div class="col-12">
                    <button type="button" class="w-20 btn btn-primary btn-lg mt-3 mb-3 float-end" (click)="generateReports()">Gerar Relatórios</button>
                </div>
            </div>
        </div>
    </div>

    <div class="row row-cols-1 row-cols-md-3 mt-3">
        <div class="col-md-4 col-sm-12 mb-3">
            <div class="card text-center text-white bg-success mb-3">
                <div class="card-header">TOTAL DE RECEITAS</div>
                <div class="card-body">
                    <h3 class="card-title">{{revenueTotal}}</h3>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-12 mb-3">
            <div class="card text-center text-white bg-danger mb-3">
                <div class="card-header">TOTAL DE DESPESAS</div>
                <div class="card-body">
                    <h3 class="card-title">{{expenseTotal}}</h3>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-12 mb-3">
            <div class="card text-center text-white bg-info mb-3">
                <div class="card-header">SALDO</div>
                <div class="card-body">
                    <h3 class="card-title">{{balance}}</h3>
                </div>
            </div>
        </div>
    </div>

    <hr>

    <div class="row mt-3">
        <div class="col-lg-6 col-md-12 mb-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Receitas por Categoria</h5>
                </div>
                <div class="card-body">
                    <p-chart type="bar" [data]="revenueChartData" [options]="basicOptions"></p-chart>
                </div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12 mb-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Despesas por Categoria</h5>
                </div>
                <div class="card-body">
                    <p-chart type="bar" [data]="expenseChartData" [options]="basicOptions"></p-chart>
                </div>
            </div>
        </div>
    </div>

</div>